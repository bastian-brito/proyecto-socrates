{% extends "layout.html" %}

{% block body %}	

<div class="container">
	<h2 class="text-center py-4">LISTA DE Escuelas</h2>
</div>

<div class="container">
	<table class="table">
		<thead>
			<tr>
				<th scope="col">ID</th>
				<th scope="col">Nombres Escuelas</th>
				<th scope="col">User ID</th>
				<th scope="col">Fecha Creación</th>
				<th scope="col">Publicado</th>
				<th scope="col">Estado</th>	
				<th scope="col">Acción</th>		
			</tr>
		</thead>
		<tbody>
			{% for escuela in escuelas %}
			<tr>				
				<th scope="row">{{escuela.id}}</th>
				<td>{{escuela.name}}</td>
				<td>{{usuario.user_id}}</td>
				<td>{{escuela.fecha_creacion}}</td>
				<td>{{escuela.publicado}}</td>												
				<td>{{escuela.estado}}</td>
				<td>
					<a href="/update/{{usuario.id}}" class="btn btn-warning btn-xs" data-bs-toggle="modal" data-bs-target="#modaledit{{usuario.id}}">Editar</a> 
				</td>
			</tr>
			EDICION NO DISPONIBLE (completar controlador update)
			<!-- <div id="modaledit{{usuario.id}}" class="modal fade" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title">Actualizar Información</h4>
						</div>
						<div class="modal-body">
							<form action="{{url_for('usuarios.update')}}" method="POST">
								<div class="form-group">
									<label>Nombre Escuela:</label>
									<input type="hidden"  name="id" value="{{escuela.id}}">
									<input type="text" class="form-control" name="nombres" value="{{escuela.name}}">
								</div>
								<div class="form-group">
									<label>Usuario ID:</label>
									<input type="text" class="form-control" name="apellido_paterno" value="{{usuario.user_id}}">
								</div>
								<div class="form-group">
									<label>Apellido Materno:</label>
									<input type="text" class="form-control" name="apellido_materno" value="{{usuario.apellido_materno}}">
								</div>
								<div class="form-group">
									<label>Correo:</label>
									<input type="mail" class="form-control" name="correo" value="{{usuario.correo}}">
								</div>
								<div class="form-group">
									<label>Teléfono:</label>
									<input type="number" class="form-control" name="telefono" value="{{usuario.telefono}}">
								</div>
								<div class="form-group">
									<label for="floatingRol">Rol Aplicación:</label>
									<select class="form-select" id="floatingRol" name="rol_aplicacion" aria-label="Selecciona un rol, ejemplo">
										<option value={{usuario.roles}} selected>{{usuario.roles.name}}</option>
										{% for rol in roles %}
										<option value={{rol.id}}>{{rol.name}}</option>
										{%endfor%}
									</select>
								</div>
								<div class="form-group">
									<label>Contraseña:</label>
									<input type="text" class="form-control" name="contraseña" value="{{usuario.contraseña}}">
								</div>
								<div class="form-check form-switch">
									<label class="form-check-label" for="estado">Estado: {{usuario.estado}}</label>
									{% if usuario.estado == True %}
									<input type="checkbox" class="form-check-input" id="estado" name="estado" value=True checked>
									{% else %}
									<input type="checkbox" class="form-check-input" name="estado" value=True>
									{% endif %}
								</div>
								<div class="form-group">
									<button class="btn btn-primary" type="submit">Update</button>
								</div>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
						</div>
					</div>
				</div>
			</div> -->

			{%endfor%}
		</tbody>
	</table>
</div>


{% endblock %}